var b=(_,m,a)=>new Promise((t,r)=>{var c=l=>{try{u(a.next(l))}catch(o){r(o)}},e=l=>{try{u(a.throw(l))}catch(o){r(o)}},u=l=>l.done?t(l.value):Promise.resolve(l.value).then(c,e);u((a=a.apply(_,m)).next())});import{D as y,r as g,R as d,y as x,z as N,M as w,P as n,q as i,t as s,X as f,a2 as L,a1 as V}from"./index-DofruHnK.js";import{l as h}from"./setting-CF3FtGYT.js";import{P as z}from"./Page-CtVCLxoG.js";const C={class:"filter-container"},D=y({__name:"AuditLog",setup(_){const m=g(null),a=g(0),t=g({dateRange:[],log_content:null,pageNumber:1,pageSize:20}),r=()=>b(null,null,function*(){const{data:c,total:e}=yield h.getLogList(t.value);m.value=c,a.value=e});return(c,e)=>{const u=d("el-input"),l=d("el-button"),o=d("el-table-column"),v=d("el-table");return N(),x("div",null,[w("div",C,[n(u,{clearable:"",class:"filter-item width",placeholder:i(s)("input.content"),modelValue:t.value.content,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value.content=p)},null,8,["placeholder","modelValue"]),n(l,{class:"filter-item",type:"primary",onClick:r},{default:f(()=>[L(V(i(s)("buttons.search")),1)]),_:1})]),n(v,{data:m.value,border:"","empty-text":i(s)("status.noData"),"default-sort":{prop:"log_time",order:"descending"}},{default:f(()=>[n(o,{type:"index",label:i(s)("table.serialNumber"),width:"80",align:"center"},null,8,["label"]),n(o,{prop:"log_content",label:i(s)("log.content"),"min-width":"160",align:"center"},null,8,["label"]),n(o,{prop:"log_time",label:i(s)("log.time"),"min-width":"160",sortable:"",align:"center"},null,8,["label"])]),_:1},8,["data","empty-text"]),n(z,{limit:t.value.pageSize,"onUpdate:limit":e[1]||(e[1]=p=>t.value.pageSize=p),page:t.value.pageNumber,"onUpdate:page":e[2]||(e[2]=p=>t.value.pageNumber=p),total:a.value,onPagination:r},null,8,["limit","page","total"])])}}});export{D as default};
